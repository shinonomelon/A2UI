{
  "title": "A2UI Protocol message",
  "description": "A message from the server to the client, which can be one of several types.",
  "properties": {
    "surfaceId": {
      "type": "string",
      "description": "An ID for the surface that the UI changes should be applied to. If this surface doesn't exist, it will be created. If this is not specified, the default surface will be used."
    },
    "beginRendering": {
      "title": "BeginRendering Message",
      "description": "A schema for a BeginRendering message in the A2A streaming UI protocol. This message signals that the UI can now be rendered and provides initial root component and styling information.",
      "type": "object",
      "properties": {
        "root": {
          "type": "string",
          "description": "The ID of the root component from which rendering should begin. This is a reference to a component instance by its unique ID. This property is REQUIRED."
        },
        "styles": {
          "type": "object",
          "description": "An object containing styling information for the UI.",
          "additionalProperties": true
        }
      },
      "required": [
        "root"
      ]
    },
    "surfaceUpdate": {
      "title": "SurfaceUpdate Message",
      "description": "A schema for a SurfaceUpdate message in the A2A streaming UI protocol.",
      "type": "object",
      "properties": {
        "components": {
          "type": "array",
          "description": "A flat list of all component instances available for rendering. Components reference each other by ID. This property is REQUIRED.",
          "items": {
            "description": "A specific instance of a ComponentType with its own unique ID and properties.",
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "description": "A unique identifier for this component instance. This property is REQUIRED."
              },
              "componentProperties": {
                "type": "object",
                "description": "Defines the properties for the component type.",
                "additionalProperties": true
              }
            },
            "required": [
              "id",
              "componentProperties"
            ]
          }
        }
      },
      "required": [
        "components"
      ]
    },
    "dataModelUpdate": {
      "title": "Data model update",
      "description": "Sets or replaces the data model at a specified path with new content.",
      "type": "object",
      "properties": {
        "path": {
          "type": "string",
          "description": "An optional path to a location within the data model where the content should be inserted or replaced. The path is represented as a dot-separated string and can include array indexing (e.g., 'user.addresses[0].street'). If this field is omitted, the entire data model will be replaced with the provided 'contents'."
        },
        "contents": {
          "description": "The JSON content to be placed at the specified path. This property is REQUIRED. This can be any valid JSON value (object, array, string, number, boolean, or null). The content at the target path will be completely replaced by this new value."
        }
      },
      "required": [
        "contents"
      ]
    },
    "surfaceDeletion": {
      "title": "SurfaceDeletion Message",
      "description": "A schema for a SurfaceDeletion message in the A2A streaming UI protocol. This message signals that a surface should be removed from the UI.",
      "type": "object",
      "properties": {},
      "required": []
    }
  }
}
